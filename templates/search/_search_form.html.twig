<div class="search-card">
    <div class="search-header">
        <h3 class="search-title">{% block search_title %}Recherche d'un produit{% endblock %}</h3>
    </div>

    <form role="form" action="{{ path(form_action|default('search')) }}" method="post">
        <div class="row">
            <div class="col-md-12">
                <div class="search-all-field">
                    <label class="main-label"><i class="fa fa-building"></i> Chercher sur tous les sites</label>
                    <div class="radio-toggle">
                        {% for choice in form.searchAll %}
                            <label class="modern-radio-item">
                                {{ form_widget(choice) }}
                                <span class="checkmark"></span>
                                {{ choice.vars.label }}
                            </label>
                        {% endfor %}
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group site-field" id="site-field">
                    <label><i class="fa fa-building"></i> Site</label>
                    {{ form_widget(form.idSite, {'attr': {
                        'class': 'form-control select2',
                        'style': 'width: 100%;',
                        'data-placeholder': 'Sélectionnez un site'
                    }}) }}
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <label><i class="fa fa-search"></i> Type de recherche</label>
                    <div class="modern-radio">
                        {% for choice in form.searchType %}
                            <label class="modern-radio-item">
                                {{ form_widget(choice) }}
                                <span class="checkmark"></span>
                                {{ choice.vars.label }}
                            </label>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>

        <div class="form-group product-search-field">
            <label><i class="fa fa-flask"></i> Nom du produit</label>
            {{ form_widget(form.idChimicalproduct, {'attr': {
                'class': 'form-control select2',
                'style': 'width: 100%;',
                'required': 'required',
                'data-placeholder': 'Rechercher un produit chimique'
            }}) }}
        </div>

        <div class="form-group cas-search-field" style="display: none;">
            <label><i class="fa fa-barcode"></i> Numéro CAS</label>
            {{ form_widget(form.casSearch, {'attr': {
                'class': 'form-control select2',
                'style': 'width: 100%;',
                'required': 'required',
                'data-placeholder': 'Rechercher par numéro CAS'
            }}) }}
        </div>

        {{ form_rest(form) }}

        <div class="form-group">
            <button type="submit" class="btn search-btn">
                <i class="fa fa-search"></i> Rechercher
            </button>
        </div>
    </form>
</div>